# StereoMatching——Designed by 叶培楚

**程序流程**

1. 读取双目图像（已校正图像）；
2. 读取双目标定好的内外参；
3. 遍历每一个像素点；
4. 在右帧中沿同一水平线进行搜索（校正过的双目图像，极线在同一水平线上）；
5. 计算每个像素块间的NCC匹配分数，取匹配分数最高的点作为最优匹配点；
6. 设置阈值判断是否接受匹配结果；
7. 计算视差值；
8. 计算深度图；
9. 显示深度图像。

ps: NCC双目匹配，需要注意的是，左边图像的某一个点，在右边搜索时需要从相同的坐标开始，这是为了遵循顺序一致性。防止出现左目某个像素点，在右目时出现在其左侧。例如：

&ensp; &ensp; 左目像素：$p_{l} = (x_{l}, y_{l})$， 则在右目匹配时需要从 $x_{l}$ 开始，找到匹配到的像素为 $p_{r} = (x_{r}, y_{r})$，则需要满足 $x_{l} - x_{r} < 0$。

